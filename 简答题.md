# -基础
注：题⽬错误原因需要体现在题⽬的main函数前注释⾥ 
go基础 
(a)
Go
1 type user struct { 
2 username string 
3 nickname string 
4 sex uint8 
5 birthday time.Time 
6 } 
7
8 func main() { 
9 u := user{ 
10 username: "坤坤", 
11 nickname: "阿坤", 
12 sex: 20, 
13 birthday: time.Now(), 
14 } 
15 bs, err := json.Marshal(&u) 
16 if err != nil { 
17 log.Println(err) 
18 return 
19 } 
20
21 fmt.Println(string(bs)) 
22 } 
上⾯的代码输出有问题，找到问题并解决ta(b)
Go 
func main() { //当defer语句放在return后面时，就不会被执行没有输出，因为return之后函数就已经结束了，不会执行defer

var a = true 
defer func() { 
fmt.Println("1") 
}() 
if a {
fmt.Println("2") 
return 
}
defer func() { 
fmt.Println("3") 
}() 
} 
已知以上代码输出2 1，请说明为什么3未输出 
并发相关 
(a) 
Go语⾔⾥使⽤锁来保持逻辑同步是下下之举，可以使⽤管道（
chan）的堵塞特性来实现同步 
Go 
func main() { 
go func() { 
fmt.Println("出现") 
}() 
} 
(b) 
有时候我们在启动goroutine的时候会发现它可能并不会按照我们的想要的顺序去执⾏goroutine， 
我们可以通过channel来控制它们的顺序。Go
1 var wg sync.WaitGroup 
2
3 func main() { 
//使用三个线程，分别打印goroutine1/2/3，最后再输出successful即可。
4 wg.Add(3) 
5 go Work("goroutine1") 
6 go Work("goroutine2") 
7 go Work("goroutine3") 
8 wg.Wait() 
9 fmt.Println("successful") 
10 } 
11
12 func Work(workName string) { 
13 time.Sleep(time.Second) // 模拟逻辑处理 
14 fmt.Println(workName) 
15 wg.Done() 
16 } 
请⽤channel来实现输出如下的结果 
Go
1 goroutine1 
2 goroutine2 
3 goroutine3 
4 successful 
ps:可以修改Print函数（包括参数） 
(c)
⾃幂数是指⼀个 n 位数，它的每个位上的数字的 n 次幂之和等于它本⾝。（例如：当n为3时，有 
1^3 + 5^3 + 3^3 = 153，153即是n为3时的⼀个⾃幂数） 
请使⽤并发的⽅式快速求出1-6位的所有⾃幂数 
数据库相关 //使用6个线程，分别将1/2/3/4/5/6位的字谜数按顺序输出即可
(a) 
请为图书馆的借阅模块设计表结构： 
• 登录注册 //自定义一个登陆与注册接口，需要判断用户是否注册过，如果注册过则直接跳过注册进入登陆接口
• 借阅记录（书本的状态：是否归还、是否逾期等）//借书记录等于给用户一个状态保持，给借过书的人一个cookie，规定好相应的时间，同时对超时的用户再追加一个cookie，通过查看用户身上的cookie类别来判断用户是否归还书与是否逾期
• 书籍库 //通过一个结构体，将书本定义出来，再将每一本书一一以结构体的形式呈现即可
PS: 实体属性给的不全，⾃⼰拓展 
(b) 
说说MySQL预处理语句的好处，你认为有何使⽤价值 答：预处理是 MySQL 为了防止客户端频繁请求的一种技术，是对相同处理语句进行预先加载在 MySQL 中，将操作变量数据用占位符来代替，减少对 MySQL 的频繁请求，使得服务器高效运行。即时SQL 一条 SQL 直接是流程处理，一次编译，单次运行
预处理SQL 一次编译、多次运行，省去了解析优化等过程；此外某种程度上能防止 SQL 注入。



编码能⼒题 
要求：使⽤go语⾔完成该题 
坤蛋出海 
题⽬描述 
阿海是个年轻的坤场主，最近听闻台湾省闹蛋慌，省内坤蛋价格飙升，学⽣营养餐⼀周只能配给⼀个 
坤蛋，阿海⼀听这怎么⾏，当即决定通过船运向台湾供应坤蛋（我要狠狠的赚上⼀波⼤⽶). 
但是在赚⼤⽶之前需要做好⼀定的准备。其中之⼀是阿海需要⼀位程序员来帮他写⼀个算法⽤来满⾜ 
他的统计需求。 
阿海将会提供每⼀只船的出发时刻，每批坤蛋的品质，和坤蛋的批数 
你需要设计算法计算每发出⼀只船，统计从船发出前24⼩时(86400秒)到该只船发出这段时间内所有 
发出的坤蛋⼀共有多少种不同的品质。 
简单来说，就是统计满⾜左开右闭区间(t-86400,t]（
t为当前船出发的时刻）⾥的所有船只，这些满 
⾜条件的船上⼀共有多少个批不同品质的蛋（坤蛋的品质将会⽤数字表⽰） 
输⼊格式 
第⼀⾏输⼊正整数n，表⽰接下来将会有n条数据（即n条船） 
接下来n⾏，每⼀⾏都表⽰⼀艘船的信息 
每⾏第⼀个数 t 与第⼆个数 k 分别表⽰该艘船的出发时刻和该船上坤蛋的批数，接下来的 k 个数表⽰ 
每批蛋的品质 
保证输⼊的每⾏第⼀个数 t 是递增的，其单位为秒 
数据范围 
发出船的数量n： 1≤n≤10^5 
船的出发时刻t : 1≤ t ≤10^9 
所有船蛋的总批数k : k ≤ 3*10^5 
蛋的品质 x : 1 ≤ x ≤ 10^5输出格式 
输出 n ⾏，第 i ⾏输出⼀个整数表⽰第 i 艘船发出后的统计信息。 
输⼊输出样例 
输⼊ #1 
Plain Text 
1 3 
2 1 4 4 1 2 2 
3 2 2 2 3 
4 10 1 3 
输出 #1 
Plain Text 
1 3 
2 4 
3 4 
样例解释 
Plain Text 
1 样例1 
2 第⼀艘船在t=1的时候发出，最近24⼩时内发出的只有第⼀艘船，船上每批蛋的品质分别为4 1 2 2， 
⼀共有1号品质的蛋，2号品质的和4号品质的蛋3种，所以输出3 
3 第⼆艘船在t=2的时候发出，最近24⼩时内发出的有第⼀艘船，第⼆艘船，船上每批蛋的品质分别为2 
3，与第⼀艘船相⽐不同品质的蛋为3号蛋，3+1=4，所以输出4 
4 第⼆艘船在t=10的时候发出，最近24⼩时内发出的有第⼀艘船，第⼆艘船，第三艘船，船上只有3号品 
质的蛋，与前两艘船相⽐没有品质不同的蛋，所以输出4 
输⼊ #2 
Plain Text 
1 4 
2 1 4 1 2 2 3 
3 3 2 2 3 
4 86401 2 3 4 
5 86402 1 5 
输出 #2Plain Text 
1 3 
2 3 
3 3 
4 4 
补充说明 
很多时候作为后端开发，我们需要处理⼀些⾮常复杂的逻辑，所以对编码能⼒会有较⾼的要求。 答：（定义一个二维数组大小为：10^5*10^5，再创立一个一维数组，首先判断每一行第一个数据，当第一个数据超过86400秒时则统计下一组数据，若在时间范围内则将此行从第三个数字开始遍历，将所有不同的非零元素放在一个定义的比较大的一维数组当中，每放入一个数，将变量n=0加1；在二维数组遇到零元素时换行读取，并将此时的n的值换行输出，由此即可实现题目结果）
题⽬已经给出题意概述以及样例解释降低难度了，如果代码实在实现不了，叙述⼀下你的思路也可 
以。
